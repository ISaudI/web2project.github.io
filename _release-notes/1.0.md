---
title: v1.0 Release Notes

layout: release-notes
deprecated: true
---

**Release Date:** 07 June 2009

{% include download-sourceforge.md %}

{% include reporting-problems.md %}

### New Features

* A permissions caching layer:
  * Previously all permissions were calculated at runtime, now they are re-calculated for a given user whenever any of that users' permissions or Roles are changed reducing runtime queries by 90% in some cases;
  * Also allows questions along the lines of "who has access to this project?" to be answered without recalculating all user's permissions;
  * Provides a screen to review any users' permissions for anything in the system;
* Overall permissions improvement:
  * Now the system assumes no permissions on an object until a Role or specific Permission describes otherwise;
* A user interface overhaul - rounded corners, we're web2.0 ready!
* Improved installer:
  * A dotProject to web2project converter detects and handles all versions of dotProject from v2.0;
  * An upgrade manager detects the current web2project version and applies database changes as required, similar to Migrations;
  * Added numerous configuration/requirement validations and specific error messages were applicable;
* Added a number of new fields to the Contact object to accommodate new IM systems;
* Added the beginning of a "hook" system similar to Drupal:
  * Reworked the queuescanner.php to automatically detect and call any hook_cron methods on system objects;
  * {{ 74 | mantis }} Implemented an iCal feed (in ./calendar.php) to automatically detect and call any hook_calendar methods on system objects;
* Added the ProjectDesigner to core;
* Improved the getUser call to only retrieve active users in the system;
* Simplified the various add/edit screens to only retrieve data relevant to the current context;
* Added the ability for potential users to request an account for the system, made this ability toggle-able by the admin;
* Added the ability for contacts to update their information without logging in, etc;
* Added a check that will warn and stop a user from trying to upload/attach a file if the underlying filesystem permissions are incorrect;

### Bugs Closed

* Added database indexes/primary keys to selected tables;
* Fixed the fonts issue on the gantt charts to use the distributable FreeSans font as opposed to Arial;
* Fixed the default priority to zero (normal) for new projects;
* Fixed the locales and appearance of the change password interface;
* Added proper permissions checking to all dropdowns, selections, etc within the class methods;
* Fixed the color picker (Projects) to work on all browsers;
* Fixed some broken queries that were showing all contacts regardless of the company filter;
* Fixed the permissions so that it is possible to view and edit events with no project association;
* Converted the System Lookup Values from being a line-delimited single field to being individual database fields;
* Fixed the w2pgetImage function to default to the web2project theme if the image is missing in the selected theme;
* {{ 24 | mantis }} Missing Installer PHP Page
* {{ 38 | mantis }} Date format in task logs doesn't make my Short Date Format
* {{ 50 | mantis }} Task name cannot contain quotes.
* {{ 58 | mantis }} Enter key should work the same way as "save" button in creating new task
* {{ 59 | mantis }} Contacts module doest not show all contacts
* {{ 65 | mantis }} Forum permission add/edit does not work well
* {{ 66 | mantis }} Duplicate email notifications
* {{ 68 | mantis }} No validation checking on date ranges in Task Create/Edit
* {{ 70 | mantis }} Can't search for info in the Project Location field.
* {{ 72 | mantis }} file list empty in project view.
* {{ 75 | mantis }} Going from user list to department causes error if default tab on department is projects
* {{ 76 | mantis }} Under certain conditions the task owner ends up set to 0 causing the task to vanish
* {{ 77 | mantis }} Search that contains a parenthesis ( ) causes an error anywhere in search
* {{ 78 | mantis }} Task dependencies not cascading
* {{ 79 | mantis }} Hide forum tab if Forum module is not active
* {{ 81 | mantis }} Contact detail unable (Access Denied) to be edited even by the Admin account
* {{ 82 | mantis }} Event details become unable (Access Denied) to be edited even by the Admin account
* {{ 83 | mantis }} Expected Duration of Hours Calculated is incorrect
* {{ 87 | mantis }} Quotes in Item Names Damage Permissions
* {{ 108 | mantis }} Edit a project, see crash
* {{ 113 | mantis }} Button 'new contact' in contacts tab of department view does not work
* {{ 114 | mantis }} Catchable fatal error when clicking on 'Projects' tab of the department view
* {{ 116 | mantis }} Column count doesn't match value count at row 1 - Forum module configuration
* {{ 117 | mantis }} PDF print out puts the forum topic on the same line as the content
* {{ 118 | mantis }} Selecting contact in a project - CLick Continue nothing happens + not updating contacts immediatly
* {{ 120 | mantis }} Catchable error when clicking on "task per user" button
* {{ 122 | mantis }} Missing argument 1 for CTask::getAssignedUsers() in tasksperuser.php
* {{ 123 | mantis }} White text not readable
* {{ 124 | mantis }} Javascript error when setting user permissions in "View User" mode (Flat View Only)
* {{ 125 | mantis }} Project Location is required by database, but not by UI
* {{ 126 | mantis }} Logging in with no roles results in crash
* {{ 127 | mantis }} Inconsistent security behavior with projects / task assignment
* {{ 128 | mantis }} PHP crash on clicking "Task List" button under "My Tasks To Do"
* {{ 129 | mantis }} Tasks never show in TODO list without elevated permissions
* {{ 130 | mantis }} Editing "Archive" status projects results in crash
* {{ 131 | mantis }} Multiple "archive" tabs exist on project screen after upgrade from dotProject
* {{ 132 | mantis }} Switching companies on the projects tab causes crash
* {{ 133 | mantis }} No departments are being listed in the departments module
* {{ 134 | mantis }} Potential dotProject Conversion Issues
* {{ 136 | mantis }} Go to edit a department, none of the fields are populated
* {{ 140 | mantis }} WPS-Redmond missing some image files in RC1
* {{ 141 | mantis }} Percent Complete Calculations Vary
* {{ 144 | mantis }} Spelling error in Access Denied message
* {{ 146 | mantis }} Project details not displayed for newly created projects
* {{ 147 | mantis }} Add permission item list <Project> shows inactive projects
* {{ 149 | mantis }} Assigned Users not listed when viewing the task
* {{ 151 | mantis }} Task list on Day View in Calendar is not displayed correctly
* {{ 155 | mantis }} USER's ROLE: "LOCK" Icon takes to EDITing role instead of "clipboard" icon.
* {{ 160 | mantis }} Child tasks not displayed in toto Gantt
* {{ 166 | mantis }} New Project form allows submission of project with no assigned company resulting in orphaned project
* {{ 167 | mantis }} Empty list of tasks when nef file is added
* {{ 171 | mantis }} Project Location, when left empty, causes crash
* {{ 172 | mantis }} Cannot use commas (",") when specifying budgets

### Misc Changes/Improvements

* Security:
  * Improved the datatype validation, SQL Injection protection, and anti-XSS code;
  * Removed various data access calls from numerous Views, refactored all of these to the Models;
  * Simplified and centralized all the permissions checks to reduce duplication
* Refactoring:
  * Removed tickets.inc.php from the search objects;
  * Removed the {class}_func.php files and the ./functions folder by merging the functions into the relevant classes;
  * Tweaked the module reordering code to keep the order id's contiguous in order to prevent id's from "drifting" out of order;
  * Cleaned up the double quotes to use single quotes where applicable;
  * Cleaned up the Installer's sql to get rid of various magic numbers;
  * Added department email and type fields. Department Types with Lookup values support;
  * Reduced the overall Lines of Code (LoC) by approximately 18%;
* Deprecation:
  * Replaced all instances of the "dPconfig" variable with the "w2Pconfig";
  * Adopted and converted the outgoing mails to PHPMailer lib;
  * Removed the old gateway.pl code for sending emails;
  * Removed unnecessary files and code where applicable;

### Open/Known Issues

* The cascading dependencies are still not 100%.  Although long chains (A->B-C->D->E) work fine and tasks with multiple dependencies work fine, there are a limited number of scenarios where dependencies do not behave as expected.
  * One such scenario is when you have a Dynamic Task A with children chain (B->C-D->E) and Task F which is dependent on Task A.  If B, C, D or E shift, they shift the rest of the chain as expected and the Dynamic Task (A) as expected but unfortunately F does not get updated.